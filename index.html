<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="icon" type="image/png" href="assets/logos/LogoSmall.png">

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Wres Republica - Coming Soon</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- React & ReactDOM -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    
    <!-- Babel for JSX -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <!-- Custom Styles -->
    <style>
        body {
            background-color: #050505;
            color: white;
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            overflow-x: hidden;
            cursor: default;
        }

        /* Subtle Grain/Noise Texture */
        .bg-noise {
            background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)' opacity='0.05'/%3E%3C/svg%3E");
            pointer-events: none;
        }

        /* Slow, alive gradient animation */
        @keyframes float {
            0%, 100% { transform: translate(0, 0); }
            50% { transform: translate(-10px, -10px); }
        }
        @keyframes pulse-glow {
            0%, 100% { opacity: 0.5; transform: scale(1); }
            50% { opacity: 0.7; transform: scale(1.05); }
        }
        @keyframes shimmer {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }

        .animate-float { animation: float 10s ease-in-out infinite; }
        .animate-pulse-slow { animation: pulse-glow 8s ease-in-out infinite; }
        .animate-shimmer { animation: shimmer 2s infinite; }

        /* Custom Selection Color */
        ::selection {
            background: rgba(255, 255, 255, 0.2);
            color: white;
        }

        /* Button Glow Effect */
        .btn-glow {
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        }
        .btn-glow:hover {
            box-shadow: 0 0 40px rgba(255, 255, 255, 0.2);
            transform: translateY(-2px);
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useRef, useCallback } = React;

        // --- Icons (SVG Components) ---
        const Icon = ({ path, className, size = 24, fill = "none" }) => (
            <svg 
                xmlns="http://www.w3.org/2000/svg" 
                width={size} 
                height={size} 
                viewBox="0 0 24 24" 
                fill={fill} 
                stroke="currentColor" 
                strokeWidth="2" 
                strokeLinecap="round" 
                strokeLinejoin="round" 
                className={className}
            >
                {path}
            </svg>
        );

        const Zap = (props) => <Icon {...props} path={<><polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"></polygon></>} />;
        const Youtube = (props) => <Icon {...props} path={<><path d="M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17"></path><path d="m10 15 5-3-5-3z"></path></>} />;
        const Instagram = (props) => <Icon {...props} path={<><rect width="20" height="20" x="2" y="2" rx="5" ry="5"></rect><path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"></path><line x1="17.5" x2="17.51" y1="6.5" y2="6.5"></line></>} />;
        const Gamepad2 = (props) => <Icon {...props} path={<><line x1="6" x2="10" y1="12" y2="12"></line><line x1="8" x2="8" y1="10" y2="14"></line><line x1="15" x2="15.01" y1="13" y2="13"></line><line x1="18" x2="18.01" y1="11" y2="11"></line><path d="M17.87 5.1A9 9 0 1 0 21 14.88"></path></>} />;
        const Play = (props) => <Icon {...props} path={<><polygon points="5 3 19 12 5 21 5 3"></polygon></>} />;
        const Smartphone = (props) => <Icon {...props} path={<><rect width="14" height="20" x="5" y="2" rx="2" ry="2"></rect><path d="M12 18h.01"></path></>} />;
        const Monitor = (props) => <Icon {...props} path={<><rect width="20" height="14" x="2" y="3" rx="2" ry="2"></rect><line x1="8" x2="16" y1="21" y2="21"></line><line x1="12" x2="12" y1="17" y2="21"></line></>} />;
        const X = (props) => <Icon {...props} path={<><path d="M18 6 6 18"></path><path d="m6 6 12 12"></path></>} />;
        const Activity = (props) => <Icon {...props} path={<><path d="M22 12h-4l-3 9L9 3l-3 9H2"></path></>} />;
        const Ban = (props) => <Icon {...props} path={<><circle cx="12" cy="12" r="10"></circle><path d="m4.9 4.9 14.2 14.2"></path></>} />;

const DiscordLogo = ({ width = 40, height = 40 }) => (
  <img src="assets/logos/discord.png" alt="Discord Logo" width={width} height={height} />
);




       const GAME_LOGO_URL = "assets/logos/LogoSquare.png";


        // --- UI Components ---

        const Button = ({ children, onClick, variant = 'primary', className = '' }) => {
            const baseStyle = "btn-glow relative overflow-hidden font-bold tracking-widest uppercase transform active:scale-95 select-none z-10 flex items-center justify-center gap-3 cursor-pointer";
            
            const variants = {
                primary: "bg-white text-black px-8 py-4 md:px-10 md:py-5 text-sm md:text-base rounded-sm",
                secondary: "bg-transparent border border-white/10 text-white px-6 py-3 md:px-8 md:py-4 text-sm md:text-base hover:bg-[#5865F2]/10 hover:border-[#5865F2]/50 hover:text-white backdrop-blur-md rounded-sm",
            };

            return (
                <button onClick={onClick} className={`${baseStyle} ${variants[variant]} ${className}`}>
                    {children}
                </button>
            );
        };

        const PinfallGame = ({ onClose }) => {
            const [gameState, setGameState] = useState('menu'); 
            const [kickoutStreak, setKickoutStreak] = useState(0);
            const [highScore, setHighScore] = useState(0);
            const [feedback, setFeedback] = useState(''); 
            
            const [cursorPos, setCursorPos] = useState(0);
            const [targetZone, setTargetZone] = useState({ start: 30, width: 20 });
            const [isLocked, setIsLocked] = useState(false);
            const [refCount, setRefCount] = useState(0); 

            const direction = useRef(1); 
            const speed = useRef(1.5);
            const reqRef = useRef();
            
            useEffect(() => {
                const saved = localStorage.getItem('pinfall_hs');
                if (saved) setHighScore(parseInt(saved));
            }, []);

            const resetRound = (streak) => {
                setIsLocked(false);
                setCursorPos(0);
                setRefCount(0);
                setFeedback('');
                direction.current = 1;

                const baseSpeed = 1.8;
                const speedMultiplier = 0.3 + (streak * 0.1);
                speed.current = Math.min(baseSpeed * speedMultiplier, 6);

                const baseWidth = 25;
                const minWidth = 8;
                const newWidth = Math.max(baseWidth - (streak * 0.6), minWidth);
                
                const maxStart = 90 - newWidth;
                const minStart = 10;
                const newStart = Math.random() * (maxStart - minStart) + minStart;
                
                setTargetZone({ start: newStart, width: newWidth });
                
                startLoop();
            };

            const startLoop = () => {
                stopLoop();
                let lastTime = performance.now();
                
                const animate = (time) => {
                    const delta = time - lastTime;
                    lastTime = time;

                    setCursorPos(prev => {
                        let next = prev + (speed.current * (delta / 10)) * direction.current;
                        if (next >= 100) {
                        next = 100;
                        direction.current = -1;
                        } else if (next <= 0) {
                        next = 0;
                        direction.current = 1;
                        }
                        return next;
                    });
                    
                    reqRef.current = requestAnimationFrame(animate);
                };
                reqRef.current = requestAnimationFrame(animate);
            };

            const stopLoop = () => {
                if (reqRef.current) cancelAnimationFrame(reqRef.current);
            };

            const handleInput = (e) => {
                e.stopPropagation();
                if (gameState !== 'playing' || isLocked) return;
                
                stopLoop();
                setIsLocked(true);
                
                const hitStart = targetZone.start;
                const hitEnd = targetZone.start + targetZone.width;
                
                if (cursorPos >= hitStart && cursorPos <= hitEnd) {
                    setFeedback('KICKOUT!');
                    setTimeout(() => {
                        setKickoutStreak(s => s + 1);
                        resetRound(kickoutStreak + 1);
                    }, 800);
                } else {
                    let count = 1;
                    setRefCount(1);
                    
                    const interval = setInterval(() => {
                        count++;
                        setRefCount(count);
                        if (count >= 3) {
                        clearInterval(interval);
                        setFeedback('PINNED!');
                        setTimeout(() => {
                            if (kickoutStreak > highScore) {
                            setHighScore(kickoutStreak);
                            localStorage.setItem('pinfall_hs', kickoutStreak);
                            }
                            setGameState('result');
                        }, 1000);
                        }
                    }, 600);
                }
            };

            const startGame = () => {
                setGameState('playing');
                setKickoutStreak(0);
                resetRound(0);
            };

            useEffect(() => {
                return () => stopLoop();
            }, []);

            return (
                <div className="fixed inset-0 z-50 flex items-center justify-center bg-black/95 backdrop-blur-xl animate-in fade-in duration-200" onMouseDown={handleInput} onTouchStart={handleInput}>
                <div className="w-full h-full md:max-w-4xl md:h-[60vh] relative overflow-hidden select-none touch-none bg-gradient-to-b from-slate-900 to-black border border-white/10 rounded-xl shadow-2xl flex flex-col items-center justify-center">
                    
                    <div className="absolute inset-0 pointer-events-none">
                        <div className="absolute top-0 left-0 w-full h-full bg-[radial-gradient(circle_at_center,_var(--tw-gradient-stops))] from-blue-900/10 via-transparent to-transparent opacity-50"></div>
                    </div>

                    <button 
                    onClick={(e) => { e.stopPropagation(); onClose(); }} 
                    className="absolute top-4 right-4 z-50 text-white/50 hover:text-white bg-white/5 p-2 rounded-full backdrop-blur-md transition-colors hover:bg-white/20"
                    >
                    <X size={24} />
                    </button>

                    <div className="absolute top-8 left-0 right-0 flex justify-center pointer-events-none">
                    <div className="bg-black/50 backdrop-blur-md px-6 py-2 rounded-full border border-white/10 flex gap-8">
                        <div className="text-center">
                            <div className="text-[10px] uppercase tracking-widest text-slate-500 font-bold">Streak</div>
                            <div className="text-2xl font-black text-white font-mono">{kickoutStreak}</div>
                        </div>
                        <div className="text-center">
                            <div className="text-[10px] uppercase tracking-widest text-slate-500 font-bold">Best</div>
                            <div className="text-2xl font-black text-amber-500 font-mono">{highScore}</div>
                        </div>
                    </div>
                    </div>

                    {gameState === 'menu' && (
                    <div className="z-40 text-center p-6 max-w-md animate-in slide-in-from-bottom-4">
                        <div className="relative">
                            <Activity className="w-20 h-20 text-red-600 mb-6 mx-auto drop-shadow-[0_0_15px_rgba(220,38,38,0.5)] animate-pulse-slow" />
                        </div>
                        <h2 className="text-5xl font-black text-white uppercase tracking-tighter mb-2 italic">Kick Out</h2>
                        <p className="text-slate-400 mb-8 text-sm uppercase tracking-widest font-bold">Stop the meter in the zone to survive.</p>
                        <Button onClick={(e) => { e.stopPropagation(); startGame(); }} variant="primary" className="w-full">
                        Start Match
                        </Button>
                    </div>
                    )}

                    {gameState === 'playing' && (
                    <div className="w-full max-w-2xl px-8 relative">
                        <div className="absolute -top-32 left-0 right-0 text-center h-24 flex items-center justify-center">
                        {refCount > 0 && refCount < 3 && (
                            <div className="text-8xl font-black text-white drop-shadow-2xl scale-150 animate-ping">{refCount}</div>
                        )}
                        {feedback === 'KICKOUT!' && (
                            <div className="text-5xl font-black text-green-500 uppercase italic tracking-tighter drop-shadow-[0_0_10px_rgba(34,197,94,0.8)] animate-bounce">{feedback}</div>
                        )}
                        {feedback === 'PINNED!' && (
                            <div className="text-5xl font-black text-red-600 uppercase italic tracking-tighter drop-shadow-[0_0_10px_rgba(220,38,38,0.8)] animate-pulse">3 COUNT!</div>
                        )}
                        </div>

                        <div className="relative h-16 bg-slate-800 rounded-full border-4 border-slate-700 overflow-hidden shadow-inner">
                        <div className="absolute inset-0 opacity-20 bg-[linear-gradient(45deg,transparent_25%,rgba(0,0,0,.3)_25%,rgba(0,0,0,.3)_50%,transparent_50%,transparent_75%,rgba(0,0,0,.3)_75%,rgba(0,0,0,.3))] bg-[length:10px_10px]"></div>
                        
                        <div 
                            className="absolute top-0 bottom-0 bg-gradient-to-b from-amber-400 to-amber-600 shadow-[0_0_20px_rgba(245,158,11,0.6)]"
                            style={{ 
                            left: `${targetZone.start}%`, 
                            width: `${targetZone.width}%`,
                            transition: 'all 0.3s ease-out'
                            }}
                        >
                        </div>

                        <div 
                            className="absolute top-0 bottom-0 w-2 bg-white shadow-[0_0_15px_rgba(255,255,255,1)] z-10 will-change-transform"
                            style={{ 
                            left: `${cursorPos}%`,
                            transform: 'translateX(-50%)'
                            }}
                        />
                        </div>
                        
                        <p className="text-center mt-8 text-slate-500 text-xs uppercase tracking-[0.3em] font-bold animate-pulse">
                        Tap anywhere to stop
                        </p>
                    </div>
                    )}

                    {gameState === 'result' && (
                    <div className="z-40 text-center p-6 animate-in zoom-in-95">
                        <Ban className="w-16 h-16 text-slate-500 mb-4 mx-auto" />
                        <h3 className="text-4xl font-black text-white uppercase tracking-tighter mb-2 italic">Defeated</h3>
                        <div className="text-6xl font-mono font-bold text-amber-500 mb-8 drop-shadow-lg">{kickoutStreak} <span className="text-lg text-slate-400 font-sans tracking-normal font-normal">KICKOUTS</span></div>
                        <div className="flex gap-4 justify-center">
                        <Button onClick={(e) => { e.stopPropagation(); startGame(); }} variant="primary">Rematch</Button>
                        <Button onClick={(e) => { e.stopPropagation(); setGameState('menu'); }} variant="secondary">Menu</Button>
                        </div>
                    </div>
                    )}

                </div>
                </div>
            );
        };

        const App = () => {
            const [showGame, setShowGame] = useState(false);
            const [logoError, setLogoError] = useState(false);
            const [mousePos, setMousePos] = useState({ x: 0, y: 0 });

            // Smooth mouse follow for spotlight
            useEffect(() => {
                const handleMove = (e) => {
                    requestAnimationFrame(() => {
                        setMousePos({ x: e.clientX, y: e.clientY });
                    });
                };
                window.addEventListener('mousemove', handleMove);
                return () => window.removeEventListener('mousemove', handleMove);
            }, []);

            return (
                <div className="min-h-screen relative flex flex-col">
                    {/* Mouse Spotlight */}
                    <div 
                        className="fixed pointer-events-none z-0 w-[800px] h-[800px] bg-blue-500/5 rounded-full blur-[100px] transition-transform duration-1000 ease-out will-change-transform"
                        style={{ 
                            left: 0, 
                            top: 0, 
                            transform: `translate(${mousePos.x - 400}px, ${mousePos.y - 400}px)` 
                        }} 
                    />

                    {/* Background Gradients */}
                    <div className="fixed inset-0 pointer-events-none z-0">
                        <div className="absolute top-0 left-0 w-full h-[60vh] bg-gradient-to-b from-blue-900/10 to-transparent opacity-60 animate-float"></div>
                        <div className="absolute bottom-0 right-0 w-[60vw] h-[60vh] bg-gradient-to-t from-red-900/10 to-transparent opacity-60 animate-pulse-slow"></div>
                        <div className="absolute inset-0 bg-noise opacity-30"></div>
                        <div className="absolute inset-0 bg-[radial-gradient(ellipse_at_center,_var(--tw-gradient-stops))] from-transparent via-[#050505] to-[#050505]"></div>
                    </div>

                    {/* Navigation */}
                    <nav className="relative z-20 w-full px-4 py-6 md:px-8 md:py-8 flex justify-between items-center max-w-7xl mx-auto">
                        <div className="flex items-center gap-2 md:gap-3 cursor-default opacity-80 hover:opacity-100 transition-opacity">
                            <div className="w-6 h-6 md:w-8 md:h-8 bg-white/10 rounded-sm flex items-center justify-center border border-white/5 overflow-hidden relative shadow-lg">
                                <Zap size={14} className="text-white fill-current md:w-4 md:h-4" />
                            </div>
                            <span className="text-[10px] md:text-sm font-bold tracking-widest text-slate-300 uppercase">MNDRIN Studios</span>
                        </div>
                        
                        <div className="flex gap-2">
                            <a href="https://www.youtube.com/@MNDRiN" target="_blank" rel="noopener noreferrer" className="p-2 text-slate-400 hover:text-[#FF0000] hover:bg-white/5 rounded-lg transition-all duration-300"><Youtube size={18} className="md:w-5 md:h-5" /></a>
                            <a href="https://www.instagram.com/wres_republica/" target="_blank" rel="noopener noreferrer" className="p-2 text-slate-400 hover:text-[#E1306C] hover:bg-white/5 rounded-lg transition-all duration-300"><Instagram size={18} className="md:w-5 md:h-5" /></a>
                        </div>
                    </nav>

                    {/* Main Hero */}
                    <main className="relative z-10 flex-1 flex flex-col items-center justify-center px-4 text-center max-w-7xl mx-auto w-full py-12 md:py-0">
                        <div className="mb-8 md:mb-12 relative group cursor-default w-full flex justify-center">
                            <div className="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-full md:w-3/4 h-24 md:h-32 bg-gradient-to-r from-blue-600/10 via-white/5 to-amber-600/10 blur-3xl opacity-0 group-hover:opacity-100 transition-opacity duration-1000 pointer-events-none"></div>
                            
                            {GAME_LOGO_URL && !logoError ? (
                                <img 
                                src={GAME_LOGO_URL} 
                                onError={() => setLogoError(true)} 
                                alt="Wres Republica" 
                                className="max-w-[280px] md:max-w-1x2 w-full h-auto object-contain animate-in fade-in zoom-in duration-500 drop-shadow-2xl"
                                />
                            ) : (
                                <h1 className="text-5xl sm:text-7xl md:text-9xl font-black italic tracking-tighter leading-none select-none mix-blend-lighten transition-transform duration-500 hover:scale-[1.02]">
                                <span className="block text-transparent bg-clip-text bg-gradient-to-b from-white to-slate-400 drop-shadow-2xl">WRES</span>
                                <span className="block text-transparent bg-clip-text bg-gradient-to-b from-slate-200 to-slate-600 drop-shadow-2xl -mt-2 md:-mt-4">REP</span>
                                </h1>
                            )}
                        </div>

                        <div className="mb-10 md:mb-12 flex flex-col items-center gap-3 md:gap-4">
                            <div className="h-px w-16 md:w-24 bg-gradient-to-r from-transparent via-amber-500 to-transparent"></div>
                            <h2 className="text-xl md:text-4xl font-bold uppercase tracking-[0.2em] text-white">Coming Soon</h2>
                            <p className="text-slate-400 text-xs md:text-base max-w-xs md:max-w-lg leading-relaxed font-light">
                                Long wait, but hey… at least it’s real!
                            </p>
                        </div>

                        <div className="flex flex-col sm:flex-row items-center gap-4 md:gap-6 w-full max-w-md md:max-w-2xl justify-center">
                            <Button onClick={() => setShowGame(true)} className="w-full sm:w-auto">
                                <Play size={18} fill="currentColor" />
                                <span>Play Mini-Game</span>
                            </Button>

                            <Button variant="secondary" onClick={() => window.open('https://discord.gg/99WJuVUxdZ', '_blank')} className="w-full sm:w-auto">
                                <DiscordLogo size={50} className="text-[#5865F2]" fill="currentColor" />
                                <span>Join Discord</span>
                            </Button>
                        </div>

                        <div className="mt-16 md:mt-20 flex flex-col items-center gap-4">
                            <span className="text-[10px] font-bold uppercase tracking-[0.3em] text-slate-500 animate-pulse-slow">Available On</span>
                            
                            <div className="flex items-center gap-6 md:gap-8 opacity-50 grayscale hover:grayscale-0 transition-all duration-500">
                                <div className="flex items-center gap-2 group cursor-default hover:-translate-y-1 transition-transform">
                                <Smartphone size={18} className="text-slate-300 group-hover:text-green-400 transition-colors md:w-6 md:h-6" />
                                <span className="text-[10px] md:text-xs font-bold tracking-widest text-slate-500 group-hover:text-white transition-colors">ANDROID</span>
                                </div>
                                
                                <div className="w-px h-3 md:h-4 bg-white/20"></div>
                                
                                <div className="flex items-center gap-2 group cursor-default hover:-translate-y-1 transition-transform">
                                <Monitor size={18} className="text-slate-300 group-hover:text-blue-400 transition-colors md:w-6 md:h-6" />
                                <span className="text-[10px] md:text-xs font-bold tracking-widest text-slate-500 group-hover:text-white transition-colors">WINDOWS</span>
                                </div>
                            </div>
                        </div>
                    </main>

                    <footer className="relative z-10 w-full border-t border-white/5 py-6 md:py-8 mt-auto">
                        <div className="max-w-7xl mx-auto px-6 flex justify-center text-center">
                            <p className="text-[10px] md:text-xs text-slate-600 uppercase tracking-widest">© 2025 MNDRIN Studios</p>
                        </div>
                    </footer>

                    {showGame && <PinfallGame onClose={() => setShowGame(false)} />}
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>